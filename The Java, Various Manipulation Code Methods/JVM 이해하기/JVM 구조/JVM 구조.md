# JVM 구조

## 클래스 로더 시스템

1. *.class* 파일에서 바이트 코드를 읽고 메모리에 저장한다.
2. 1번의 과정을 `로딩-링크-초기화`라는 3단계로 나눠서 진행한다.

## 메모리

1. 메소드 영역: **클래스** 수준의 정보를 저장하고 공유하는 자원이다.
   - 클래스 이름
   - 부모 클래스 이름
   - 메소드
   - 변수
2. 힙 영역: **객체**를 저장하고 공유하는 자원이다.
3. 스택 영역: 쓰레드마다 런타임 스택을 만들어 그 안에 메소드 호출을 **스택 프레임**이라 부르는 블럭으로 쌓는다. 쓰레드 종료 시 해당 쓰레드의 런타임 스택도 사라진다.
4. PC(Program Counter) 레지스터: 쓰레드마다 쓰레드가 **현재 실행할 스택 프레임을 가리키는 포인터**를 말한다.
5. 네이티브 메소드 스택: 네이티브 메소드를 호출할 때 사용하는 스택 영역이다.
   - 메소드에 `native`라는 키워드가 붙어있다.
   - 구현을 자바가 아닌 C나 C++로 한 메소드를 말한다.

## 실행 엔진

1. 인터프리터: 바이트 코드를 한 줄 씩 실행한다.
2. JIT 컴파일러: 인터프리터의 효율을 높이기 위해, 인터프리터가 반복되는 코드를 발견하면 **JIT 컴파일러로 반복되는 코드**를 모두 네이티브 코드로 바꿔둔다. 그 다음부터 **인터프리터는 네이티브 코드로 컴파일된 코드를 바로 사용한다.**
3. GC(Garbage Collector): 더 이상 참조되지 않는 객체를 모아서 정리한다.

## JNI(Java Native Interface)

1. 자바 애플리케이션에서 C, C++, 어셈블리로 작성된 함수를 사용할 수 있는 인터페이스를 제공한다.

## 네이티브 메소드 라이브러리

1. C, C++로 작성된 라이브러리를 말한다.